import { Module } from '@nestjs/common';
import { AuthService } from './auth.service';
import { AuthController } from './auth.controller';
import { UserService } from 'src/user/user.service';
import { MikroOrmModule } from '@mikro-orm/nestjs';
import { User } from 'src/user/user.entity';
import { JwtModule } from '@nestjs/jwt';
import { authConstants } from './auth.constants';

//@TODO fix .env in module
 
  const jwt="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"

@Module({
  providers: [AuthService,UserService],
  controllers: [AuthController],
  imports:[
    MikroOrmModule.forFeature([User]),
    JwtModule.register({
      global: true,
      secret: jwt,
      signOptions: { expiresIn: '1y' },
    }),],
    exports:[AuthService],
})
export class AuthModule {}
